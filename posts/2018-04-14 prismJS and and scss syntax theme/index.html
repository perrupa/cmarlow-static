<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/cmarlow-static/component---src-layouts-index-js-43262de9732aaef9882f.js" as="script"/><link rel="preload" href="/cmarlow-static/component---src-templates-post-template-js-102d9df0db7ec4b84412.js" as="script"/><link rel="preload" href="/cmarlow-static/path---posts-2018-04-14-prism-js-and-and-scss-syntax-theme-2e29f8b8c4d6ece3b0fb.js" as="script"/><link rel="preload" href="/cmarlow-static/app-faa7979e03e8b42894b2.js" as="script"/><link rel="preload" href="/cmarlow-static/commons-c94d345de378047caf13.js" as="script"/><title data-react-helmet="true">C:\Marlow&gt;</title><meta data-react-helmet="true" name="description" content=""/><meta data-react-helmet="true" name="keywords" content=""/><style id="gatsby-inlined-css">@import url(https://fonts.googleapis.com/css?family=Oswald|Lato|PT+Mono|Roboto+Mono|Rubik|Permanent+Marker|Questrial);html{font-family:Roboto Mono,sans-serif;font-size:1.25em}body{font-weight:400;line-height:1.45}p{letter-spacing:-1px}code{font-family:PT Mono,monospace}h1,h2,h3,h4{font-family:Rubik,sans-serif;letter-spacing:-3px;font-weight:800}h1{font-size:3.998em}h2{font-size:2.827em}h3{font-size:1.999em}h4{font-size:1.414em}p{margin-bottom:1em}ol,ul{-webkit-padding-start:0}h1,h2,h3,h4{color:#333}h1 a,h2 a,h3 a,h4 a{color:inherit;text-decoration:none}li{list-style-type:none;margin-right:1em;line-height:1.8}img{display:block;margin:auto;max-width:95%;max-height:85vh;margin-bottom:1.5em}pre{margin:1em 0}code[class*=language-],pre[class*=language-]{-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;white-space:pre;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;font-family:Menlo,Monaco,Courier New,monospace;font-size:18px;line-height:1.7;color:#333;text-shadow:none;background:transparent}:not(pre)>code[class*=language-],pre[class*=language-]{border-radius:5px;border:none;box-shadow:none}pre[class*=language-]{padding:12px}:not(pre)>code[class*=language-]{padding:2px 6px}code[class*=language-] .namespace,pre[class*=language-] .namespace{opacity:.7}code[class*=language-] .token.cdata,code[class*=language-] .token.comment,code[class*=language-] .token.doctype,code[class*=language-] .token.prolog,pre[class*=language-] .token.cdata,pre[class*=language-] .token.comment,pre[class*=language-] .token.doctype,pre[class*=language-] .token.prolog{color:#999}code[class*=language-] .token.boolean,code[class*=language-] .token.null,code[class*=language-] .token.number,code[class*=language-] .token.operator,pre[class*=language-] .token.boolean,pre[class*=language-] .token.null,pre[class*=language-] .token.number,pre[class*=language-] .token.operator{color:red}.language-css code[class*=language-] .token.string,.language-css pre[class*=language-] .token.string,.style code[class*=language-] .token.string,.style pre[class*=language-] .token.string,code[class*=language-] .token.attr-name,code[class*=language-] .token.entity,code[class*=language-] .token.string,code[class*=language-] .token.url,pre[class*=language-] .token.attr-name,pre[class*=language-] .token.entity,pre[class*=language-] .token.string,pre[class*=language-] .token.url{color:#401bc3}code[class*=language-] .token.selector,pre[class*=language-] .token.selector{color:#a6e22d}code[class*=language-] .token.atrule,code[class*=language-] .token.attr-value,code[class*=language-] .token.control,code[class*=language-] .token.directive,code[class*=language-] .token.important,code[class*=language-] .token.keyword,code[class*=language-] .token.unit,pre[class*=language-] .token.atrule,pre[class*=language-] .token.attr-value,pre[class*=language-] .token.control,pre[class*=language-] .token.directive,pre[class*=language-] .token.important,pre[class*=language-] .token.keyword,pre[class*=language-] .token.unit{color:red}code[class*=language-] .token.placeholder,code[class*=language-] .token.regex,code[class*=language-] .token.statement,code[class*=language-] .token.variable,pre[class*=language-] .token.placeholder,pre[class*=language-] .token.regex,pre[class*=language-] .token.statement,pre[class*=language-] .token.variable{color:#401bc3}code[class*=language-] .token.property,code[class*=language-] .token.tag,pre[class*=language-] .token.property,pre[class*=language-] .token.tag{font-style:italic}code[class*=language-] .token.important,code[class*=language-] .token.statement,pre[class*=language-] .token.important,pre[class*=language-] .token.statement{font-weight:700}code[class*=language-] .token.punctuation,pre[class*=language-] .token.punctuation{color:#aaa}code[class*=language-] .token.entity,pre[class*=language-] .token.entity{cursor:help}code[class*=language-] .token.debug,pre[class*=language-] .token.debug{color:red}.blog-post-container{text-align:left}h1.blog-post__title{display:flex;justify-content:space-between;flex-wrap:wrap-reverse}.blog-post__date{font-size:.5em;vertical-align:top}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="2106416817"><!-- react-empty: 2 --><section class="sc-bdVaJa kpNTaj" data-reactid="3"><h1 class="sc-bwzfXH eCEZzb" data-reactid="4"><a style="color:#333;" href="/cmarlow-static/" data-reactid="5">Chris Marlow</a></h1><div class="blog-post-container" data-reactid="6"><div class="blog-post" data-reactid="7"><h2 class="blog-post__title" data-reactid="8"><!-- react-text: 9 -->Custom syntax highlighting for Gatsby<!-- /react-text --><span class="blog-post__date" data-reactid="10">2018 04 14</span></h2><div class="blog-post-content" data-reactid="11"><p>I wanted to add compile-time syntax highlighting to the code sections of this blog today, so I took a look around.</p>
<p>I was already using gatsby-transformer-remark for markdown to HTML conversion of blog posts, so I needed to add a plugin that would parse my code blocks into styleable html. Enter the handy Gatsby plugin <a href="https://github.com/chasm/gatsby-remark-prismjs">gatsby-remark-prismjs</a>, it was super simple to configure for use with gatsby-transformer-remark. I only needed to add it as a plugin in my Gatsby config</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token comment">// In your gatsby-config.js change this simple include:</span>
plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token string">'gatsby-transformer-remark'</span>
<span class="token punctuation">]</span>

<span class="token comment">// to this 'configured' include:</span>
plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    resolve<span class="token punctuation">:</span> <span class="token string">'gatsby-transformer-remark'</span><span class="token punctuation">,</span>
    options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'gatsby-remark-prismjs'</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre>
      </div>
<h3>Congatulations, you now have annotated, but unstyled, code blocks.</h3>
<p>Now we need to include some CSS to apply some colors to our marked-up syntax. PrismJS has <a href="https://github.com/PrismJS/prism-themes">plenty of excellent, standard themes</a>, but I wanted some simpler. It needed to be easily readable without being too jarring or removed from the style and theme of this site, so I looked around for something simple to extend.</p>
<p><a href="https://github.com/MoOx/sass-prism-theme-base"><code class="language-text">MoOx/sass-prism-theme-base</code></a> by<a href="https://github.com/MoOx">MoOx</a> was a great base to build off of. The repo wasn't easily consumable by yarn, so I copied the <code class="language-text">_prism.scss</code> and <code class="language-text">s.scss</code> into my project to be used there. I may need to investigate sharing a variant of a base SASS PrismJS theme, as that's exactly what I was looking for.</p>
<p>I created a base <code class="language-text">_syntax-theme.scss</code> file to contain my variables and setting overrides, it looks a little like this:</p>
<div class="gatsby-highlight">
      <pre class="language-sass"><code class="language-sass"><span class="token comment">// _syntax-theme.scss</span>
<span class="token variable-line"><span class="token variable">$code</span><span class="token punctuation">:</span>     #454390;</span>
<span class="token variable-line"><span class="token variable">$value</span><span class="token punctuation">:</span>    #e6d06c;</span>
<span class="token variable-line"><span class="token variable">$keyword</span><span class="token punctuation">:</span>  #f12769;</span>
<span class="token variable-line"><span class="token variable">$operator</span><span class="token punctuation">:</span> #f00;</span>
<span class="token variable-line"><span class="token variable">$subtle</span><span class="token punctuation">:</span>   #aaa;</span>
<span class="token variable-line"><span class="token variable">$comment</span><span class="token punctuation">:</span>  #999;</span>

<span class="token variable-line"><span class="token variable">$code-color</span><span class="token punctuation">:</span>         <span class="token variable">$code</span>;</span>
<span class="token variable-line"><span class="token variable">$code-color-fade</span><span class="token punctuation">:</span>    <span class="token variable">$subtle</span>;</span>
<span class="token variable-line"><span class="token variable">$code-color-comment</span><span class="token punctuation">:</span> <span class="token variable">$comment</span>;</span>
<span class="token variable-line"><span class="token variable">$code-color-keyword</span><span class="token punctuation">:</span> <span class="token variable">$keyword</span>;</span>
<span class="token variable-line"><span class="token variable">$code-color-value</span><span class="token punctuation">:</span>   <span class="token variable">$code</span>;</span>
<span class="token variable-line"><span class="token variable">$code-color-string</span><span class="token punctuation">:</span>  <span class="token variable">$value</span>;</span>

<span class="token variable-line"><span class="token variable">$code-tab-size</span><span class="token punctuation">:</span>      2;</span>
<span class="token variable-line"><span class="token variable">$code-font-size</span><span class="token punctuation">:</span> 	   18px;</span>
<span class="token variable-line"><span class="token variable">$code-line-height</span><span class="token punctuation">:</span>	 1.7;</span>

<span class="token atrule-line"><span class="token atrule">@import</span> "prism";</span></code></pre>
      </div>
<p>I hope this quick explanation helps get some more people out there blogging about code.</p>
<p>Later!</p></div></div></div></section></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-faa7979e03e8b42894b2.js","198517197184460":"component---src-templates-post-template-js-102d9df0db7ec4b84412.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","277396729646534":"component---src-pages-high-park-js-93c3a0f1f9b551a07dfe.js","35783957827783":"component---src-pages-index-js-f7ab1093cb350f0f55af.js","60335399758886":"path----557518bd178906f8d58a.js","90698680116035":"path---posts-2018-04-14-prism-js-and-and-scss-syntax-theme-2e29f8b8c4d6ece3b0fb.js","148889971516926":"path---posts-2018-01-19-frequencies-870cca5351bcfc788690.js","116487595065715":"path---posts-2018-01-04-test-c3ce54e6470bd6184982.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","145827446362191":"path---high-park-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-0c6f3da7e099bd2bd24b.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-43262de9732aaef9882f.js"}/*]]>*/</script><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/cmarlow-static/commons-c94d345de378047caf13.js","/cmarlow-static/app-faa7979e03e8b42894b2.js","/cmarlow-static/path---posts-2018-04-14-prism-js-and-and-scss-syntax-theme-2e29f8b8c4d6ece3b0fb.js","/cmarlow-static/component---src-templates-post-template-js-102d9df0db7ec4b84412.js","/cmarlow-static/component---src-layouts-index-js-43262de9732aaef9882f.js"])/*]]>*/</script></body></html>
<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/cmarlow-static/component---src-layouts-index-js-bda9f5f8d64fcc6e950c.js" as="script"/><link rel="preload" href="/cmarlow-static/component---src-templates-post-template-js-deb1bf0a4db94659f499.js" as="script"/><link rel="preload" href="/cmarlow-static/path---posts-2019-12-16-vim-plugins-are-just-dotfiles-2fd8e4f6f408388029fa.js" as="script"/><link rel="preload" href="/cmarlow-static/app-718d5f71f760a8d4a074.js" as="script"/><link rel="preload" href="/cmarlow-static/commons-68331ae94a1750a18731.js" as="script"/><style data-styled-components="Ywpfz bmxMTl cjqGBd hrDTCZ elJDoD ewPRJy">
/* sc-component-id: sc-bdVaJa */
.Ywpfz{margin:auto;padding:1em;max-width:50em;}
/* sc-component-id: sc-bwzfXH */
.hrDTCZ{color:rgb(221,68,36);}
/* sc-component-id: sc-htpNat */
.ewPRJy{color:rgb(221,68,36);}
/* sc-component-id: sc-bxivhb */
.elJDoD{padding:1em;text-align:center;}
/* sc-component-id: sc-ifAKCX */
.bmxMTl{margin:0;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-width:0;font-size:4em;}
/* sc-component-id: sc-EHOje */
.cjqGBd{color:#333;}</style><title data-react-helmet="true">C:\Marlow&gt;</title><meta data-react-helmet="true" name="description" content=""/><meta data-react-helmet="true" name="keywords" content=""/><style id="gatsby-inlined-css">@import url(https://fonts.googleapis.com/css?family=Oswald|Lato|PT+Mono|Roboto+Mono|Inconsolata|Rubik|Inconsolata);html{font-family:Roboto Mono,sans-serif;font-size:1.35em}body{font-weight:300;line-height:1.65}code[class*=language-],pre[class*=language-]{font-family:Inconsolata,monospace;line-height:1.4}h1,h2,h3{font-family:Inconsolata,sans-serif;letter-spacing:-2px;font-weight:800}h1{font-size:3.998em}h2{font-size:1.827em}h3{font-size:1.414em;border-left:.5em solid #dd4424;padding-left:1em}p{margin-bottom:1em}ol,ul{-webkit-padding-start:0}html{background-color:#f4f4f4}h1 a,h2 a,h3 a,h4 a{position:relative;height:200px;line-height:230px;margin-bottom:.7em;color:inherit;text-align:center;text-decoration:none;white-space:nowrap}h1 a:before,h2 a:before,h3 a:before,h4 a:before{content:"";position:absolute;z-index:-1;right:0;left:0;bottom:.4em;top:50%;margin:0 -10px 20px;background-color:#eb8f7c;transform:translateX(20px) skewX(12deg) skewY(8deg)}h1 a:after,h2 a:after,h3 a:after,h4 a:after{content:"";position:absolute;z-index:-1;right:0;left:0;bottom:.4em;top:30%;margin:50px 0 10px;background-color:#eb8f7c;transform:translateY(-10px) skewX(13deg) skewY(-12deg)}li{list-style-type:none;margin-right:1em;line-height:1.8}img{display:block;margin:auto;max-width:95%;max-height:85vh;margin-bottom:1.5em}pre{margin:1em 0}pre code{-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;white-space:pre;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;font-family:Menlo;font-size:1em;line-height:1.7;color:#333;text-shadow:none;background:transparent}:not(pre)>code[class*=language-],pre[class*=language-]{border-radius:5px;border:none;box-shadow:none}pre[class*=language-]{padding:12px}:not(pre)>code[class*=language-]{padding:2px 6px}pre code .namespace{opacity:.7}pre code .token.cdata,pre code .token.comment,pre code .token.doctype,pre code .token.prolog{color:#999}pre code .token.boolean,pre code .token.null,pre code .token.number,pre code .token.operator{color:red}.language-css pre code .token.string,.style pre code .token.string,pre code .token.attr-name,pre code .token.entity,pre code .token.string,pre code .token.url{color:#dd4424}pre code .token.selector{color:#a6e22d}pre code .token.atrule,pre code .token.attr-value,pre code .token.control,pre code .token.directive,pre code .token.important,pre code .token.keyword,pre code .token.unit{color:red}pre code .token.placeholder,pre code .token.regex,pre code .token.statement,pre code .token.variable{color:#dd4424}pre code .token.property,pre code .token.tag{font-style:italic}pre code .token.important,pre code .token.statement{font-weight:700}pre code .token.punctuation{color:#aaa}pre code .token.entity{cursor:help}pre code .token.debug{color:red}pre[class*=language-]{position:relative;padding:1.5em 0;margin:3em 0}@media only screen and (max-width:600px){pre[class*=language-]{margin:0 -10%;font-size:80%}}pre[class*=language-]:before{position:absolute;content:" ";top:0;bottom:0;left:-100%;right:-100%;box-shadow:inset 0 0 5px 1px rgba(0,0,0,.1)}h1.blog-post__title{display:flex;justify-content:space-between;flex-wrap:wrap-reverse}</style></head><body><div id="___gatsby"><div class="top" data-reactroot="" data-reactid="1" data-react-checksum="-729746806"><!-- react-empty: 2 --><section class="sc-bdVaJa Ywpfz" data-reactid="3"><h1 class="sc-ifAKCX bmxMTl" data-reactid="4"><a class="sc-EHOje cjqGBd sc-bwzfXH hrDTCZ" href="/cmarlow-static/" data-reactid="5">Chris Marlow</a></h1><section class="sc-bdVaJa Ywpfz" data-reactid="6"><h2 class="blog-post__title" data-reactid="7">Vim plugins are just dotfiles</h2><div class="blog-post-content" data-reactid="8"><p>There sometimes seems to be a perception that Vim plugins are all heavy, or somehow having a .vimrc or init.vim free of plugins is somehow perferable. I'd like to clear some things up by demonstrating that Vim plugins are simply regular dotfiles, just in a different folder (or repo).</p>
<h2>Well, what are dotfiles?</h2>
<blockquote>
<p>Dotfiles are plain text configuration files on Unix-y systems... They are called "dotfiles" as they typically are named with a leading <code class="language-text">.</code></p>
<p>-- Chris and Gave @ Thoughbot</p>
</blockquote>
<h2>Vim's configuration</h2>
<p>In our context we're referring to our vim's dotfiles, which would be at <code class="language-text">~/.config/vim/vimrc</code> (or <code class="language-text">~/.config/nvim/init.vim</code> if you're using <a href="https://neovim.io/">Neovim</a>). However there are more to vim's configuration than just the initial config entry file.</p>
<p>Vim has more than just the <code class="language-text">rc</code> or <code class="language-text">init</code> entry point files though, there are a lot of other autoloaded folders and ways of loading configuration.</p>
<h2>Autoload folders</h2>
<p>There are several folders that are automatically loaded by vim</p>
<ul>
<li><code class="language-text">ftdetect</code> run every time a new file of the filetype is loaded to dynamically detect and set the filetype</li>
<li><code class="language-text">ftplugin</code> run everytime for a given filetype (not by filename)</li>
<li><code class="language-text">plugins</code> always loaded when vim is loaded</li>
<li><code class="language-text">...</code> others....</li>
</ul>
<p>There sometimes seems to be a perception that Vim plugins are all heavy, or somehow having a <code class="language-text">.vimrc</code> or <code class="language-text">init.vim</code> free of plugins is somehow perferable. I'd like to clear some things up by demonstrating that Vim plugins are simply regular dotfiles, just in a different folder (or repo).</p>
<h2>Let's create a super-basic plugin!</h2>
<p>Let's create a plugin for editing markdown, we can start in our local dotfiles folder so navigate there (it's likely <code class="language-text">~/.config/vim/</code> or <code class="language-text">~/config/nvim/</code> if you're using Neovim, you'll need to create it if it doesn't exist).</p>
<p>Now let's create a <code class="language-text">markdown.vim</code> to add behaviour to files using the markdown filetype. For this file to be autoloaded by Vim, we'll need to put it in Vim's <code class="language-text">ftplugin</code> folder and make sure that our filename matches the filetype we want to extend. Now we can add some simple key-bindings:</p>
<div class="gatsby-highlight">
      <pre class="language-vim"><code class="language-vim"><span class="token comment">" ~/.config/nvim/ftplugin/markdown.vim</span>
<span class="token string">" Up/Down to navigate between headings (by searching for lines starting w/ 1+ "</span>#<span class="token comment">")</span>
nnoremap <span class="token operator">&lt;</span>Up<span class="token operator">></span> <span class="token operator">?</span>^#\<span class="token operator">+</span><span class="token operator">&lt;</span><span class="token keyword">cr</span><span class="token operator">></span>
nnoremap <span class="token operator">&lt;</span>Down<span class="token operator">></span> <span class="token operator">/</span>^#\<span class="token operator">+</span><span class="token operator">&lt;</span><span class="token keyword">cr</span><span class="token operator">></span></code></pre>
      </div>
<h2>Close and reopen Vim to make sure it works 🤞</h2>
<p>If all went well, we should be able to jump between markdown headings with the arrow keys now! Now let's create a new repo so we've got a <em>real</em> real plugin, just like <a href="https://github.com/tpope">tpope</a> or <a href="https://github.com/junegunn">junegunn</a>!</p>
<div class="gatsby-highlight">
      <pre class="language-sh"><code class="language-sh">cd /path/to/your/projects
mkdir markdown-navigator/
cd markdown-navigator/
git init</code></pre>
      </div>
<p>Now we have somewhere to put our vim plugin, so let's repeat what we did in our local dotfiles repo:</p>
<ul>
<li>Create an <code class="language-text">ftplugin</code> folder</li>
<li>Create a <code class="language-text">markdown.vim</code> file in that folder</li>
<li>Commit and push the changes to github (or wherever you host your code.)</li>
</ul>
<div class="gatsby-highlight">
      <pre class="language-vim"><code class="language-vim"><span class="token comment">" ./ftplugin/markdown.vim</span>
<span class="token comment">" Up/Down to navigate between headings (by searching for lines starting with #s)</span>
nnoremap <span class="token operator">&lt;</span>Up<span class="token operator">></span> <span class="token operator">?</span>^#\<span class="token operator">+</span><span class="token operator">&lt;</span><span class="token keyword">cr</span><span class="token operator">></span>
nnoremap <span class="token operator">&lt;</span>Down<span class="token operator">></span> <span class="token operator">/</span>^#\<span class="token operator">+</span><span class="token operator">&lt;</span><span class="token keyword">cr</span><span class="token operator">></span></code></pre>
      </div>
<p>then save and push those changes:</p>
<div class="gatsby-highlight">
      <pre class="language-sh"><code class="language-sh">git add .
git commit -m &#39;Adds header navigation for markdown filetypes&#39;
# obvs use your repo here... 🕵
git remote add origin https://github.com/perrupa/markdown-navigator.vim
git push origin master</code></pre>
      </div>
<p>To make sure the changes come from our plugin, we should make sure to delete the test code we wrote in our dotfiles. Please be sure to go back and delete the <code class="language-text">~/.config/vim/ftplugin/markdown.vim</code> file we created and restart vim to make sure we don't still have those mappings sticking around.</p>
<p>At this point, you should be able to install your minimal plugin with your favourite plugin manager. I use <a href="https://github.com/junegunn/vim-plug">vim-plug</a>, it's always worked great for me but you might prefer another.</p>
<div class="gatsby-highlight">
      <pre class="language-vim"><code class="language-vim"><span class="token comment">" ~/.config/vim/vimrc</span>
<span class="token comment">" ...</span>

<span class="token keyword">call</span> plug#<span class="token function">begin</span><span class="token punctuation">(</span><span class="token string">'~/.vim/bundle'</span><span class="token punctuation">)</span>
  <span class="token comment">" Other plugins...</span>

  <span class="token comment">" Your GH repo for the plugin here 👇</span>
  Plug <span class="token string">'perrupa/markdown-navigator.vim'</span>
<span class="token keyword">call</span> plug#<span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
      </div>
<p>Make sure to source your vimrc file, or restart vim, then run <code class="language-text">:PlugInstall</code> and you should see your plugin included with any other plugins you had added recently.</p>
<p>By this point you should be cheering because you just created your very first Vim plugin! Now you can take all those neat tricks, custom command wrappers, domain-specific scripts or plugin-implementations you created in your dotfiles and share them with the world (or at least your coworkers)!</p>
<p>I've thrown up a tiny example of <a href="https://github.com/perrupa/markdown-navigator.vim">the markdown-navigator.vim plugin</a> on my <a href="https://github.com/perrupa/">Github account</a> for those who want to test it before creating their own.</p></div></section><section class="sc-bxivhb elJDoD" data-reactid="9"><a class="sc-htpNat ewPRJy" href="#top" data-reactid="10">Top</a><p data-reactid="11">Written with ❤️ by Chris Marlow</p></section></section></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-718d5f71f760a8d4a074.js","198517197184460":"component---src-templates-post-template-js-deb1bf0a4db94659f499.js","162898551421021":"component---src-pages-404-js-4503918ea3a16cfcdb75.js","35783957827783":"component---src-pages-index-js-2c20dd59b5d394908f64.js","60335399758886":"path----557518bd178906f8d58a.js","55089330772455":"path---posts-2019-12-16-vim-plugins-are-just-dotfiles-2fd8e4f6f408388029fa.js","254058113528444":"path---posts-2019-12-15-custom-react-hooks-ee083ff14c9e0d9a4322.js","90698680116035":"path---posts-2018-04-14-prism-js-and-and-scss-syntax-theme-0e511c3c047d44b810f6.js","148889971516926":"path---posts-2018-01-19-frequencies-870cca5351bcfc788690.js","142972558960674":"path---posts-2018-01-04-high-park-c56e0a0a0333016c70ea.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-6383bfefdd8e5af23ffa.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-bda9f5f8d64fcc6e950c.js"}/*]]>*/</script><script>/*<![CDATA[*/["/cmarlow-static/commons-68331ae94a1750a18731.js","/cmarlow-static/app-718d5f71f760a8d4a074.js","/cmarlow-static/path---posts-2019-12-16-vim-plugins-are-just-dotfiles-2fd8e4f6f408388029fa.js","/cmarlow-static/component---src-templates-post-template-js-deb1bf0a4db94659f499.js","/cmarlow-static/component---src-layouts-index-js-bda9f5f8d64fcc6e950c.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>